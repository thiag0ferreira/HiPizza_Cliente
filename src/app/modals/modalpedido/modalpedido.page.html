<ion-header>
  <ion-toolbar>
    <ion-title>
      <h2>Pedido {{pedido.id}}</h2>
      <h3>{{pedido.fantasiaEstabelecimento}}</h3>
      <p style="font-size: 15px;"><b>Data: </b>{{dataTela}} <b>Status: </b><span (click)="setStatus()" style="cursor: pointer;">{{pedido.nomeStatus}}</span> - <b>Total Pedido: </b>{{pedido.total}}</p>
      <p style="font-size: 15px;"><b>Formas de Pagamento: </b><span (click)="openModal()" style="cursor: pointer;">{{formasPg}}</span> {{obsTroco}}</p>
    </ion-title>
    <ion-button (click)="closeModal()" slot="end" fill="clear" shape="round">
      <ion-icon slot="icon-only" name="close"></ion-icon>
    </ion-button>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-list id="iListaMP">
    <ion-item *ngFor="let i of itensTela; let last = last;">
      <ion-label>
        <h2>{{i.produto.tipo.nome}} - {{i.produto.descricao}}</h2>
        <h3>{{i.produto.detalhe}}</h3>
        <p style="font-size: 12px;">
          <b>Preço: </b>{{i.produto.valor}} <b>Qtd: </b>{{i.qtd}} <b>Total: </b>{{i.total}}
          <ion-icon (click)="maisProd(i.id, 1)" slot="end" name="arrow-up" style="padding-left: 10px; padding-right: 20px;cursor: pointer;"></ion-icon>
          <ion-icon (click)="menosProd(i.id, 1)" slot="end" name="arrow-down" style="padding-right: 10px;cursor: pointer;"></ion-icon>
          <ion-chip (click)="altQtd(i.id, 1)" color="primary">
            alterar
            <ion-icon name="checkmark" color="tertiary"></ion-icon>
          </ion-chip>
        </p>
        <p style="font-size: 15px;"><b>Opções especiais: </b> <ion-icon (click)="openOpcoes(i.id)" name="add-circle" size="large"></ion-icon></p>
        <p style="font-size: 15px;" *ngFor="let o of i.opcoes">{{o.nome}}</p>
      </ion-label>
    </ion-item>
    <ion-item *ngFor="let m of metades">
      <ion-label>
        <h2>Meio a meio</h2>
        <h3>{{m.produto.descricao}} e {{m.produto2.descricao}}</h3>
        <p style="font-size: 12px;">
          <b>Preço: </b>{{m.unitario}} <b>Qtd: </b>{{m.qtd}} <b>Total: </b>{{m.total}}
          <ion-icon (click)="maisProd(m.id, 2)" slot="end" name="arrow-up" style="padding-left: 10px; padding-right: 20px;cursor: pointer;"></ion-icon>
          <ion-icon (click)="menosProd(m.id, 2)" slot="end" name="arrow-down" style="padding-right: 10px;cursor: pointer;"></ion-icon>
          <ion-chip (click)="altQtd(m.id, 2)" color="primary">
            alterar
            <ion-icon name="checkmark" color="tertiary"></ion-icon>
          </ion-chip>
        </p>
      </ion-label>
    </ion-item>
  </ion-list>
</ion-content>
