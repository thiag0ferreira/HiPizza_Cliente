<ion-header>
  <ion-toolbar>
    <ion-title>{{stab.fantasia}} - {{stab.razaoSocial}}</ion-title>
    <ion-icon (click)="mudaFav()" id="iStar" slot="end" name="star" style="padding-right: 10px;"></ion-icon>
    <ion-icon (click)="goHome()" slot="end" name="home" color="primary" style="padding-right: 10px;"></ion-icon>
    <ion-button (click)="abreCarrinho()" slot="end" style="padding-right: 50px;" color="fill">
      <ion-icon name="cart-outline" color="dark"></ion-icon>
      <ion-badge id="notifications-badge" color="danger">{{nItens}}</ion-badge>
    </ion-button>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div id="iListaStab">
    <ion-list>
      <ion-list-header>
        <ion-label style="width: 20%; text-align: center;">
          <span style="display: inline-block; width: 50px;">
            <ion-icon [hidden]="voltar === 0" name="arrow-back-circle-outline" style="zoom:2.0;" (click)="goVoltar()"></ion-icon>
          </span>
          <span style="display: inline-block; width: 150px; cursor: pointer;">
            <h1>{{tipoNome}}</h1>
          </span>
          <span style="display: inline-block; width: 50px;">
            <ion-icon [hidden]="mais === 0" name="arrow-forward-circle-outline" style="zoom:2.0;" (click)="goAdiante()"></ion-icon>
          </span>
        </ion-label>
      </ion-list-header>

      <ion-item *ngFor="let p of produtos; let last = last;">
        <ion-label style="cursor: pointer;" (click)="abreProd(p.id)">
          <h2>{{p.descricao}}</h2>
          <h3>{{p.detalhe}}</h3>
          <p>{{p.valor}}{{terminou(last)}} <ion-icon name="cart-outline" color="dark"></ion-icon>{{p.valPedido}}</p>
        </ion-label>
      </ion-item>
      
      <ion-item [hidden]="semMeio">
        <ion-label style="cursor: pointer;" (click)="goMeio()">Pedido meio a meio</ion-label>
        <ion-chip color="primary" outline="true" (click)="goMeio()">
          <ion-icon name="checkmark-outline"></ion-icon>
          <ion-label>incluir</ion-label>
        </ion-chip>
      </ion-item>

      <ion-item *ngFor="let m of metades;">
        <ion-label style="cursor: pointer;" (click)="abreMetade(m.idItem)">
          <h2>Metade 1:{{m.m1.descricao}}</h2>
          <h2>Metade 2:{{m.m2.descricao}}</h2>
          <p>{{m.preco}} <ion-icon name="cart-outline" color="dark"></ion-icon>({{m.qtd}}) x {{m.preco}} = {{m.total}}</p>
        </ion-label>
      </ion-item>
    </ion-list>
  </div>
</ion-content>
